---
import BaseLayout from '../layouts/BaseLayout.astro'
import { buttonVariants } from '../components/ui/button'
//import { HeroSectionGradientBackground } from '../components/Hero.astro';

import {
  Card,
  CardContent,
  CardDescription,
  CardFooter,
  CardHeader,
  CardTitle,
} from '../components/ui/card'

import {
  getAllProducts, 
  getAllCategories, 
  getAllSubCategories, 
} from '../lib/cosmic';


const data3 = await getAllCategories();
const data4 = await getAllSubCategories();
---
<BaseLayout
  title="Jamstack Shopping Cart With Astro"
  description="This template helps you build apps with Astro, Tailwind CSS, and Shadcn UI."
>
<div class="relative overflow-hidden">
  <div class="pb-80 pt-16 sm:pb-40 sm:pt-24 lg:pb-48 lg:pt-40">
    <div class="relative mx-auto max-w-7xl px-4 sm:static sm:px-6 lg:px-8">
      <div class="sm:max-w-lg">
        <h1 class="text-4xl font-bold tracking-tight sm:text-5xl">Safety Technology</h1>
        <p class="mt-4 text-xl text-gray-500">Quality self-protection and surveillance products at reasonable prices with fast shipping and easy returns.</p>
        <p class="mt-4 text-xl text-gray-500">It's scary out there. Keep your loved ones and yourself protected.</p>
      </div>
      <div>
        <div class="mt-10">
          <!-- Decorative image grid -->
          <div aria-hidden="true" class="pointer-events-none lg:absolute lg:inset-y-0 lg:mx-auto lg:w-full lg:max-w-7xl">
            <div class="absolute transform sm:left-1/2 sm:top-0 sm:translate-x-8 lg:left-1/2 lg:top-1/2 lg:-translate-y-1/2 lg:translate-x-8">
              <div class="flex items-center space-x-6 lg:space-x-8">
                <div class="grid flex-shrink-0 grid-cols-1 gap-y-6 lg:gap-y-8">
                  <div class="h-64 w-44 overflow-hidden sm:opacity-0 lg:opacity-100 rounded-lg border bg-card text-card-foreground shadow-sm">
                    <img src="https://imgix.cosmicjs.com/415d9710-674d-11ef-b5ae-a594bb4a8e67-RUNT-BLUE_b.jpg?w=300" alt="" class="h-full w-full object-cover object-center">
                  </div>
                  <div class="h-64 w-44 overflow-hidden rounded-lg border bg-card text-card-foreground shadow-sm">
                    <img src="https://imgix.cosmicjs.com/68554310-63ea-11ef-b5ae-a594bb4a8e67-80536_a.jpg?w=300" alt="" class="h-full w-full object-cover object-center">
                  </div>
                </div>
                <div class="grid flex-shrink-0 grid-cols-1 gap-y-6 lg:gap-y-8">
                  <div class="h-64 w-44 overflow-hidden rounded-lg border bg-card text-card-foreground shadow-sm">
                    <img src="https://imgix.cosmicjs.com/a3175a80-6933-11ef-b5ae-a594bb4a8e67-FANG-PUR_b.jpg?w=200" alt="" class="h-full w-full object-cover object-center">
                  </div>
                  <div class="h-64 w-44 overflow-hidden rounded-lg border bg-card text-card-foreground shadow-sm">
                    <img src="https://imgix.cosmicjs.com/52bb1dc0-6941-11ef-b5ae-a594bb4a8e67-ST-AUTO_d.jpg?w=300" alt="" class="h-full w-full object-cover object-center">
                  </div>
                  <div class="h-64 w-44 overflow-hidden rounded-lg border bg-card text-card-foreground shadow-sm">
                    <img src="https://imgix.cosmicjs.com/69579540-6937-11ef-b5ae-a594bb4a8e67-PAL-1LIGHT_a.jpg?w=200" alt="" class="h-full w-full object-cover object-center">
                  </div>
                </div>
                <div class="grid flex-shrink-0 grid-cols-1 gap-y-6 lg:gap-y-8">
                  <div class="h-64 w-44 overflow-hidden rounded-lg border bg-card text-card-foreground shadow-sm">
                    <img src="https://imgix.cosmicjs.com/ccf06f40-67b7-11ef-b5ae-a594bb4a8e67-ST-LIPSTICK-B_b.jpg?w=300" alt="" class="h-full w-full object-cover object-center">
                  </div>
                  <div class="h-64 w-44 overflow-hidden rounded-lg border bg-card text-card-foreground shadow-sm">
                    <img src="https://imgix.cosmicjs.com/c189cb60-692e-11ef-b5ae-a594bb4a8e67-ST-TK2-109_d.jpg?w=300" alt="" class="h-full w-full object-cover object-center">
                  </div>
                </div>
              </div>
            </div>
          </div>

          <a href="store/" class={buttonVariants({ variant: 'outline' })}>Shop Products</a>
        </div>
      </div>
    </div>
  </div>
</div>

<section class="container grid items-center gap-6 pb-8 pt-6 md:py-10">

<header class="flex max-w-[980px] flex-col items-start gap-2">
  <h2 class="text-2xl font-extrabold leading-tight tracking-tighter md:text-3xl">Product Categories</h2>
</header>

<div class="grid grid-cols-1 gap-y-4 sm:grid-cols-2 sm:gap-x-4 sm:gap-y-10 lg:grid-cols-4 lg:gap-x-6">
{
        data3.map((category) => (
  <Card>
  <CardHeader>
    <CardTitle>{category.title}</CardTitle>
    <CardDescription>Product Categories</CardDescription>
  </CardHeader>
  <CardContent>
    <p><img src={category.metadata.category_image.imgix_url + '?w=450'} /></p>
  </CardContent>
  <CardFooter>
    <div class="flex gap-10">
     <a href="#" target="_blank" rel="noreferrer" class={buttonVariants({ variant: 'outline' })}>SubCategories</a>
     <a href="#" target="_blank" rel="noreferrer" class={buttonVariants()}>Products</a>
    </div>
  </CardFooter>
</Card>
))
}
</div>

</section>

<section class="container grid items-center gap-6 pb-8 pt-6 md:py-10">
<header class="flex max-w-[980px] flex-col items-start gap-2">
  <h2 class="text-2xl font-extrabold leading-tight tracking-tighter md:text-3xl">Product SubCategories</h2>
</header>

<div class="grid grid-cols-1 gap-y-4 sm:grid-cols-2 sm:gap-x-4 sm:gap-y-10 lg:grid-cols-4 lg:gap-x-6">
{
        data4.map((subcategory) => (
  <Card>
  <CardHeader>
    <CardTitle>{subcategory.title}</CardTitle>
    <CardDescription>Category: {subcategory.metadata.category.category[0].title}</CardDescription>
  </CardHeader>
  <CardContent>
    <p><img src={subcategory.metadata.subcategory_image.imgix_url + '?w=450'} /></p>
  </CardContent>
  <CardFooter>
    <div class="flex gap-10">
     <a href="#" target="_blank" rel="noreferrer" class={buttonVariants({ variant: 'outline' })}>More Info</a>
     <a href="#" target="_blank" rel="noreferrer" class={buttonVariants()}>View Products</a>
    </div>
  </CardFooter>
</Card>
))
}
</div>
</section>

</BaseLayout>
